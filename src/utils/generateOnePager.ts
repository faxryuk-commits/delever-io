import type { Language } from '@/i18n/translations'

const translations = {
  en: {
    tagline: 'The Operating System for Restaurants & Urban Commerce',
    description: 'Delever unifies all channels, operations, couriers, payments and customer interactions into a single platform — powering thousands of restaurants and millions of orders across Central Asia and GCC.',
    
    // What we do
    whatWeDo: 'What We Do',
    whatWeDoItems: [
      'Unified platform: POS, delivery, website, app, couriers, payments, marketing & analytics',
      'Reduce aggregator dependency (25-40% commission savings)',
      'Full control over customer data and direct channels',
    ],
    
    // Market
    market: 'Market Opportunity',
    tam: '$250B+',
    tamLabel: 'TAM Food-Tech Infrastructure',
    
    // Traction
    traction: 'Traction',
    metrics: [
      { value: '1,000+', label: 'Restaurants' },
      { value: '25K+', label: 'Daily Orders' },
      { value: '$50M+', label: 'Annual GMV' },
      { value: '7', label: 'Countries' },
    ],
    
    // Value Props
    valueProps: 'Key Metrics',
    values: [
      { value: '+35%', label: 'Direct Orders' },
      { value: '-30%', label: 'Delivery Costs' },
      { value: '+40%', label: 'Retention' },
      { value: '<1%', label: 'Churn' },
    ],
    
    // Geography
    geography: 'Geography',
    currentMarkets: 'Live: Uzbekistan, Kazakhstan, UAE, Azerbaijan, Kyrgyzstan, Georgia, Cyprus',
    expansion: 'Expansion: Saudi Arabia, Kuwait, Qatar, Oman, Turkey',
    
    // Roadmap
    roadmap: 'Roadmap',
    roadmapItems: [
      '2026: AI Suite Launch, 500+ UAE restaurants',
      '2027: 1,500 UAE restaurants, KSA team setup',
      '2028: 5,000 restaurants, GCC leadership',
    ],
    
    // Team
    team: 'Team',
    teamLine: '7+ years building restaurant delivery infrastructure',
    founders: 'Fakhriddin Yusupov (CEO), Azizbek Bakhodirov (COO), Abdullo Khidoyatov (CTO)',
    background: 'From: Express24, MaxWay, OSON, Uzum, iQUP, KWAAKA!, Choco',
    
    // Investors
    backedBy: 'Backed by AloqaVentures (Pre-seed)',
    
    // Contact
    contact: 'Contact',
    email: 'support@delever.uz',
    website: 'delever.io/investors',
  },
  ru: {
    tagline: 'Операционная система для ресторанов и городской коммерции',
    description: 'Delever объединяет все каналы, операции, курьеров, платежи и взаимодействие с клиентами в единую платформу — обеспечивая работу тысяч ресторанов и миллионов заказов в Центральной Азии и GCC.',
    
    whatWeDo: 'Что мы делаем',
    whatWeDoItems: [
      'Единая платформа: POS, доставка, сайт, приложение, курьеры, платежи, маркетинг и аналитика',
      'Снижение зависимости от агрегаторов (экономия 25-40% комиссии)',
      'Полный контроль над данными клиентов и прямыми каналами',
    ],
    
    market: 'Рынок',
    tam: '$250B+',
    tamLabel: 'TAM Food-Tech инфраструктура',
    
    traction: 'Показатели',
    metrics: [
      { value: '1 000+', label: 'Ресторанов' },
      { value: '25K+', label: 'Заказов/день' },
      { value: '$50M+', label: 'GMV/год' },
      { value: '7', label: 'Стран' },
    ],
    
    valueProps: 'Ключевые метрики',
    values: [
      { value: '+35%', label: 'Прямые заказы' },
      { value: '-30%', label: 'Затраты на доставку' },
      { value: '+40%', label: 'Удержание' },
      { value: '<1%', label: 'Отток' },
    ],
    
    geography: 'География',
    currentMarkets: 'Работаем: Узбекистан, Казахстан, ОАЭ, Азербайджан, Кыргызстан, Грузия, Кипр',
    expansion: 'Расширение: Саудовская Аравия, Кувейт, Катар, Оман, Турция',
    
    roadmap: 'Дорожная карта',
    roadmapItems: [
      '2026: AI Suite, 500+ ресторанов ОАЭ',
      '2027: 1 500 ресторанов ОАЭ, команда в KSA',
      '2028: 5 000 ресторанов, лидерство GCC',
    ],
    
    team: 'Команда',
    teamLine: '7+ лет создания инфраструктуры доставки',
    founders: 'Фахриддин Юсупов (CEO), Азизбек Баходиров (COO), Абдулло Хидоятов (CTO)',
    background: 'Из: Express24, MaxWay, OSON, Uzum, iQUP, KWAAKA!, Choco',
    
    backedBy: 'При поддержке AloqaVentures (Pre-seed)',
    
    contact: 'Контакты',
    email: 'support@delever.uz',
    website: 'delever.io/investors',
  },
  uz: {
    tagline: 'Restoranlar va shahar tijorati uchun operatsion tizim',
    description: 'Delever barcha kanallar, operatsiyalar, kuryerlar, to\'lovlar va mijozlar bilan munosabatlarni yagona platformaga birlashtiradi — Markaziy Osiyo va GCC bo\'ylab minglab restoranlar va millionlab buyurtmalarga xizmat ko\'rsatadi.',
    
    whatWeDo: 'Biz nima qilamiz',
    whatWeDoItems: [
      'Yagona platforma: POS, yetkazib berish, sayt, ilova, kuryerlar, to\'lovlar, marketing va tahlil',
      'Agregatorlarga bog\'liqlikni kamaytirish (25-40% komissiya tejash)',
      'Mijoz ma\'lumotlari va to\'g\'ridan-to\'g\'ri kanallar ustidan to\'liq nazorat',
    ],
    
    market: 'Bozor',
    tam: '$250B+',
    tamLabel: 'TAM Food-Tech infratuzilma',
    
    traction: 'Ko\'rsatkichlar',
    metrics: [
      { value: '1 000+', label: 'Restoranlar' },
      { value: '25K+', label: 'Kunlik buyurtmalar' },
      { value: '$50M+', label: 'Yillik GMV' },
      { value: '7', label: 'Mamlakatlar' },
    ],
    
    valueProps: 'Asosiy metrikalar',
    values: [
      { value: '+35%', label: 'To\'g\'ri buyurtmalar' },
      { value: '-30%', label: 'Yetkazib berish xarajatlari' },
      { value: '+40%', label: 'Ushlab qolish' },
      { value: '<1%', label: 'Ketish' },
    ],
    
    geography: 'Geografiya',
    currentMarkets: 'Ishlayapmiz: O\'zbekiston, Qozog\'iston, BAA, Ozarbayjon, Qirg\'iziston, Gruziya, Kipr',
    expansion: 'Kengayish: Saudiya Arabistoni, Kuvayt, Qatar, Ummon, Turkiya',
    
    roadmap: 'Yo\'l xaritasi',
    roadmapItems: [
      '2026: AI Suite, 500+ BAA restoranlari',
      '2027: 1 500 BAA restoranlari, KSA jamoasi',
      '2028: 5 000 restoran, GCC yetakchiligi',
    ],
    
    team: 'Jamoa',
    teamLine: '7+ yil yetkazib berish infratuzilmasini yaratish',
    founders: 'Faxriddin Yusupov (CEO), Azizbek Baxodirov (COO), Abdullo Xidoyatov (CTO)',
    background: 'Quyerdan: Express24, MaxWay, OSON, Uzum, iQUP, KWAAKA!, Choco',
    
    backedBy: 'AloqaVentures qo\'llab-quvvatlaydi (Pre-seed)',
    
    contact: 'Aloqa',
    email: 'support@delever.uz',
    website: 'delever.io/investors',
  },
}

function generateOnePagerHTML(language: Language): string {
  const t = translations[language] || translations.en

  return `<!DOCTYPE html>
<html lang="${language}">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Delever - One Pager</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap');
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    @page {
      size: A4;
      margin: 0;
    }
    
    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
      background: white;
      color: #0f172a;
      line-height: 1.4;
      font-size: 11px;
    }
    
    .page {
      width: 210mm;
      min-height: 297mm;
      padding: 15mm;
      margin: 0 auto;
      background: white;
      position: relative;
    }
    
    /* Header */
    .header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 12px;
      padding-bottom: 12px;
      border-bottom: 2px solid #0f172a;
    }
    
    .logo {
      font-size: 32px;
      font-weight: 800;
      background: linear-gradient(135deg, #10b981, #3b82f6);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    
    .tagline {
      font-size: 13px;
      color: #64748b;
      max-width: 280px;
      text-align: right;
    }
    
    /* Description */
    .description {
      font-size: 12px;
      color: #334155;
      margin-bottom: 15px;
      line-height: 1.5;
    }
    
    /* Grid layout */
    .grid-2 {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 15px;
      margin-bottom: 15px;
    }
    
    .grid-3 {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 10px;
    }
    
    .grid-4 {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 8px;
    }
    
    /* Sections */
    .section {
      margin-bottom: 12px;
    }
    
    .section-title {
      font-size: 11px;
      font-weight: 700;
      color: #0f172a;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      margin-bottom: 8px;
      display: flex;
      align-items: center;
      gap: 6px;
    }
    
    .section-title::before {
      content: '';
      width: 3px;
      height: 12px;
      background: linear-gradient(180deg, #10b981, #3b82f6);
      border-radius: 2px;
    }
    
    /* Cards */
    .card {
      background: #f8fafc;
      border: 1px solid #e2e8f0;
      border-radius: 8px;
      padding: 10px;
    }
    
    .card-dark {
      background: #0f172a;
      color: white;
      border: none;
    }
    
    .card-gradient {
      background: linear-gradient(135deg, #10b981 0%, #3b82f6 100%);
      color: white;
      border: none;
    }
    
    /* Metrics */
    .metric {
      text-align: center;
      padding: 8px;
      background: #f8fafc;
      border-radius: 6px;
      border: 1px solid #e2e8f0;
    }
    
    .metric-value {
      font-size: 18px;
      font-weight: 800;
      color: #0f172a;
    }
    
    .metric-label {
      font-size: 9px;
      color: #64748b;
      text-transform: uppercase;
      letter-spacing: 0.3px;
    }
    
    .metric-green .metric-value {
      color: #10b981;
    }
    
    /* Value props */
    .value-item {
      background: linear-gradient(135deg, #ecfdf5, #f0fdf4);
      border: 1px solid #a7f3d0;
      border-radius: 6px;
      padding: 8px;
      text-align: center;
    }
    
    .value-item .value {
      font-size: 16px;
      font-weight: 700;
      color: #059669;
    }
    
    .value-item .label {
      font-size: 8px;
      color: #047857;
      text-transform: uppercase;
    }
    
    /* TAM box */
    .tam-box {
      background: linear-gradient(135deg, #0f172a, #1e3a5f);
      color: white;
      padding: 15px;
      border-radius: 10px;
      text-align: center;
    }
    
    .tam-value {
      font-size: 36px;
      font-weight: 800;
      color: #10b981;
    }
    
    .tam-label {
      font-size: 11px;
      color: rgba(255,255,255,0.8);
    }
    
    /* List */
    .list {
      list-style: none;
    }
    
    .list li {
      display: flex;
      align-items: flex-start;
      gap: 6px;
      margin-bottom: 4px;
      font-size: 10px;
      color: #334155;
    }
    
    .list li::before {
      content: '→';
      color: #10b981;
      font-weight: 700;
      flex-shrink: 0;
    }
    
    /* Roadmap */
    .roadmap-item {
      font-size: 9px;
      color: #334155;
      padding: 6px 8px;
      background: #f1f5f9;
      border-radius: 4px;
      margin-bottom: 4px;
    }
    
    /* Team */
    .team-box {
      background: #f8fafc;
      border: 1px solid #e2e8f0;
      border-radius: 8px;
      padding: 12px;
    }
    
    .team-founders {
      font-size: 11px;
      font-weight: 600;
      color: #0f172a;
      margin-bottom: 4px;
    }
    
    .team-background {
      font-size: 9px;
      color: #64748b;
      margin-bottom: 6px;
    }
    
    .team-backed {
      font-size: 10px;
      color: #3b82f6;
      font-weight: 600;
    }
    
    /* Geography */
    .geo-text {
      font-size: 9px;
      color: #334155;
      margin-bottom: 3px;
    }
    
    /* Contact */
    .contact-box {
      background: linear-gradient(135deg, #0f172a, #1e3a5f);
      color: white;
      padding: 12px 15px;
      border-radius: 8px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 10px;
    }
    
    .contact-info {
      font-size: 11px;
    }
    
    .contact-info strong {
      color: #10b981;
    }
    
    .contact-cta {
      font-size: 10px;
      background: #10b981;
      color: white;
      padding: 8px 16px;
      border-radius: 6px;
      font-weight: 600;
    }
    
    /* Footer */
    .footer {
      position: absolute;
      bottom: 15mm;
      left: 15mm;
      right: 15mm;
      text-align: center;
      font-size: 8px;
      color: #94a3b8;
    }
    
    @media print {
      body {
        print-color-adjust: exact;
        -webkit-print-color-adjust: exact;
      }
      .page {
        margin: 0;
        box-shadow: none;
      }
    }
    
    @media screen {
      .page {
        box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        margin: 20px auto;
      }
    }
  </style>
</head>
<body>
  <div class="page">
    <!-- Header -->
    <div class="header">
      <div class="logo">Delever</div>
      <div class="tagline">${t.tagline}</div>
    </div>
    
    <!-- Description -->
    <p class="description">${t.description}</p>
    
    <!-- Main Grid -->
    <div class="grid-2">
      <!-- Left Column -->
      <div>
        <!-- What We Do -->
        <div class="section">
          <div class="section-title">${t.whatWeDo}</div>
          <ul class="list">
            ${t.whatWeDoItems.map(item => `<li>${item}</li>`).join('')}
          </ul>
        </div>
        
        <!-- Traction -->
        <div class="section">
          <div class="section-title">${t.traction}</div>
          <div class="grid-4">
            ${t.metrics.map(m => `
              <div class="metric">
                <div class="metric-value">${m.value}</div>
                <div class="metric-label">${m.label}</div>
              </div>
            `).join('')}
          </div>
        </div>
        
        <!-- Value Props -->
        <div class="section">
          <div class="section-title">${t.valueProps}</div>
          <div class="grid-4">
            ${t.values.map(v => `
              <div class="value-item">
                <div class="value">${v.value}</div>
                <div class="label">${v.label}</div>
              </div>
            `).join('')}
          </div>
        </div>
        
        <!-- Geography -->
        <div class="section">
          <div class="section-title">${t.geography}</div>
          <p class="geo-text"><strong>✓</strong> ${t.currentMarkets}</p>
          <p class="geo-text"><strong>→</strong> ${t.expansion}</p>
        </div>
      </div>
      
      <!-- Right Column -->
      <div>
        <!-- TAM -->
        <div class="section">
          <div class="section-title">${t.market}</div>
          <div class="tam-box">
            <div class="tam-value">${t.tam}</div>
            <div class="tam-label">${t.tamLabel}</div>
          </div>
        </div>
        
        <!-- Roadmap -->
        <div class="section">
          <div class="section-title">${t.roadmap}</div>
          ${t.roadmapItems.map(item => `<div class="roadmap-item">${item}</div>`).join('')}
        </div>
        
        <!-- Team -->
        <div class="section">
          <div class="section-title">${t.team}</div>
          <div class="team-box">
            <div class="team-founders">${t.founders}</div>
            <div class="team-background">${t.background}</div>
            <div class="team-background">${t.teamLine}</div>
            <div class="team-backed">${t.backedBy}</div>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Contact -->
    <div class="contact-box">
      <div class="contact-info">
        <strong>${t.email}</strong> · ${t.website}
      </div>
      <div class="contact-cta">${t.contact}</div>
    </div>
    
    <!-- Footer -->
    <div class="footer">
      © 2025 Delever. All rights reserved.
    </div>
  </div>
</body>
</html>`
}

export function downloadOnePager(language: Language): void {
  const html = generateOnePagerHTML(language)
  const blob = new Blob([html], { type: 'text/html' })
  const url = URL.createObjectURL(blob)
  
  const a = document.createElement('a')
  a.href = url
  a.download = `Delever_One_Pager_${language.toUpperCase()}.html`
  document.body.appendChild(a)
  a.click()
  document.body.removeChild(a)
  URL.revokeObjectURL(url)
}

